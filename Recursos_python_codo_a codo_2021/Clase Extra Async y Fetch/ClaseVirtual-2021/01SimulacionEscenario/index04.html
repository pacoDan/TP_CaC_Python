<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    
</head>
<body>
    <script>
                ////////SIMULANDO ASINCRONIA///////////////////
    let empanadas =[
        {
            "id":1,
            "nombre":"carne",
            "precio":100
        },
        {
            "id":2,
            "nombre":"jyq",
            "precio":135
        }
    ];
 
   


    //Para que funcione tendriamos que devolver una promesa.
    const getEmpanadasAsync = ()=>{
        return new Promise((resolve, reject)=>{ //resolve por si va bien.   reject por si va mal
            setTimeout(() => {
                resolve(empanadas);//si va bien , traeme las empanadas
            }, 3500);
        });
    }

    //asi no funcionaria.
    //console.log(getEmpanadasAsync());
   
    //para llamar a una promesa se hace con la palabra reservada  Async
    async function fetchEmpanadas(){
        const getEmpanadasConAwait=  await getEmpanadasAsync();//await le dice que espere , porque puede tardar
        console.log(getEmpanadasConAwait);
    }

    //y por ultimo llamo a la funcion
    //luego de 3 segundos y medio nos trae el resultado
    fetchEmpanadas();

    console.log('El programa sigue funcionando!');
    
    console.log('porque Js es un lenguaje no bloqueante');
    

    </script>
</body>
</html>
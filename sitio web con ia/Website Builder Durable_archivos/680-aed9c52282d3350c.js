(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{74413:function(e,n,t){"use strict";t.d(n,{I:function(){return ne}});var i=t(47568),a=t(41799),l=t(69396),o=t(10253),s=t(70655),r=t(85893),c=t(67294),u=t(11163),d=t(99787),m=t(16494),g=t(49155),h=t.n(g),v=t(14218),f=t(89677),p=t(33303),b=t(20033),x=t(68511),y=t(46665),k=t(15716),w=t(16351),j=t(295),N=t(49096),C=t(48609),Z=t(27137),S=t(83476),F=t(69059);function _(e){var n=e.children,t=e.block,i=e.generating,a=e.onRegenerate,l=(0,c.useState)(!1),o=l[0],s=l[1],u=(0,p.ac)("(max-width: 767px)");return(0,r.jsxs)("div",{className:"relative",onClick:function(){return u&&s((function(e){return!e}))},children:[(0,r.jsxs)("div",{className:(0,p.AK)("flex flex-col items-center justify-center gap-4 absolute z-90 bg-black bg-opacity-50 w-full h-full border-2 border-indigo-500 opacity-0 transition-all",(null===t||void 0===t?void 0:t.generating)&&"opacity-100",!i&&!u&&"hover:opacity-100",u&&!o&&"pointer-events-none",u&&o&&"opacity-100"),children:[(null===t||void 0===t?void 0:t.generating)&&(0,r.jsx)(m.Z,{variant:"button",text:"Generating",className:"lg light !text-sm !font-semibold !text-gray-700"}),!i&&(0,r.jsxs)("button",{className:"light gap-3 lg",disabled:i,onClick:function(){t.generating=!0,a()},children:[(0,r.jsx)(F.Z,{icon:"BoltIcon",className:"w-4 h-4 text-indigo-700"}),(0,r.jsx)("span",{className:"!font-sans text-sm font-semibold text-indigo-700",children:"Regenerate section"})]})]}),n]})}var R=function(e){var n,t=e.websiteBuilt,i=e.website,a=e.mainRef,l=e.page,o=e.generating,s=e.onRegenerate,c=(0,p.ac)("(min-width: 1280px)"),u=(null===i||void 0===i?void 0:i.header)||{WebsiteBlock:{type:"header"}},d=(null===i||void 0===i?void 0:i.footer)||{WebsiteBlock:{type:"footer"}},m=function(e){if(e)switch(e.WebsiteBlock.type){case"banner":return(0,r.jsx)(b.Z,{block:e,website:i});case"hero":return(0,r.jsx)(x.Z,{block:e,website:i});case"quote":return(0,r.jsx)(y.Z,{block:e,website:i});case"gallery":return(0,r.jsx)(k.Z,{block:e,website:i});case"image":return(0,r.jsx)(S.Z,{block:e,website:i});case"video":return(0,r.jsx)(w.Z,{block:e,website:i});case"list":return(0,r.jsx)(j.Z,{block:e,website:i});case"text":return(0,r.jsx)(N.Z,{block:e,website:i});case"location":return(0,r.jsx)(C.Z,{block:e,website:i});case"contact":return(0,r.jsx)(Z.Z,{block:e,website:i})}};return(0,r.jsxs)("main",{className:(0,p.AK)("group flex flex-col h-screen overflow-y-auto w-full scroll-smooth",!c&&"no-scrollbar"),style:(0,p.SV)(i),ref:a,children:[(0,r.jsx)(v.Z,{block:u,currentPage:null===l||void 0===l?void 0:l.id,website:i}),null===l||void 0===l||null===(n=l.blocks)||void 0===n?void 0:n.map((function(e,n){return t?m(e):(0,r.jsx)(_,{block:e,generating:o,onRegenerate:function(){return s(n)},children:m(e)},n)})),(0,r.jsx)(f.Z,{block:d,currentPage:null===l||void 0===l?void 0:l.id,website:i})]})},L=t(60728),I=(t(39828),t(51121)),T=t(68485),q=t(16682),B=t(33299),A=t(52077),M=t(34853),W=t(41664),E=t.n(W),O=t(80360),V=t(25675),H=t.n(V),P=t(73292),U=t(10866),D=t(12280),G=["Unlimited regeneration","Website editing tools","Custom domain name","Stock images and icons","Website analytics","SEO tools","Website hosting","AI-powered promotions"];function z(e){var n=e.marsWebsiteId,t=e.location,o=e.open,d=e.setOpen,m=e.error,g=e.language,h=(0,p.ac)("(min-width: 768px)"),v=(0,c.useState)(!1),f=v[0],b=v[1],x=(0,c.useState)(""),y=x[0],k=x[1],w=(0,c.useState)(""),j=w[0],N=w[1],C=(0,c.useState)("us"),Z=C[0],S=C[1],_=(0,c.useState)(!0),R=_[0],L=_[1],W=(0,c.useState)(!1),V=W[0],z=W[1],K=(0,c.useState)(m||null),J=K[0],Y=K[1],$=(0,u.useRouter)(),Q=(0,q.Z)().post,X=(0,P.Z)(),ee=X.sendUserEvent,ne=X.getAffiliateInfos,te=c.createRef(),ie=(0,U.zl)(),ae=function(){var e=(0,i.Z)((function(e){var t,i,l,o,r,c,u,d;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return e?(te.current.reset(),y&&(0,p.oH)(y)&&j&&V&&Z?[3,1]:(L(!1),b(!1),[3,3])):(b(!1),[2]);case 1:return l=ne(),r=g||(null!==(o=null===(t=navigator.language)||void 0===t?void 0:t.substring(0,2))&&void 0!==o?o:"en"),[4,Q("/user/mars-signup",(0,a.Z)({email:y,password:j,location:Z,marsWebsiteId:n,captcha:e,phKey:null===(i=$.query)||void 0===i?void 0:i.ph_id,language:r},(null===l||void 0===l?void 0:l.id)&&{affiliate:l.id}),!1).catch(console.log)];case 2:(c=s.sent())&&!0===c.status?(d=c.content,sessionStorage.setItem("idBusiness",d._id),sessionStorage.setItem("businessName",d.name),ie.identify(null===(u=$.query)||void 0===u?void 0:u.ph_id),ie.capture("sign_up",{affiliate:l,origin:"mars",method:"form"}),ee("sign_up",{method:"email"}),ee("trial_started",{currency:"USD",transactionId:null,value:0}),(0,B.signIn)("login-user",{email:y,password:j,callbackUrl:"/website/builder",redirect:!1}).then((function(e){ee("login",{method:"email"}),ie.capture("log_in",{origin:"mars",method:"form"}),e.ok&&200===e.status?window.top.location="durable.co"===window.location.host?"https://app.durable.co/website/builder":"".concat(window.location.protocol,"//").concat(window.location.host,"/website/builder"):b(!1)})).catch((function(e){b(!1)}))):(Y(c.message),b(!1)),s.label=3;case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),le=function(){var e=(0,i.Z)((function(){return(0,s.__generator)(this,(function(e){return b(!0),window.top.location=("durable.co"===window.location.host?"https://app.durable.co/website-builder/signup":"".concat(window.location.protocol,"//").concat(window.location.host,"/website-builder/signup"))+"?w=".concat(n,"&country=").concat(JSON.stringify(Z)),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){V&&y&&(0,p.oH)(y)&&L(!0)}),[V]),(0,c.useEffect)((function(){o&&t&&S(p.hW.find((function(e){var n,i,a,l;return(null===(n=e.code)||void 0===n?void 0:n.toLowerCase())===(null===(i=t.countryCode)||void 0===i?void 0:i.toLowerCase())||(null===(a=e.name)||void 0===a?void 0:a.toLowerCase())===(null===(l=t.country)||void 0===l?void 0:l.toLowerCase())}))),o||b(!1)}),[o,t]),(0,r.jsx)(D.u,{title:"Sign up to customize your website",open:o,setOpen:d,children:(0,r.jsx)("div",{className:"flex md:max-w-4xl",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row md:divide-x divide-y md:divide-y-0 gap-6",children:[(0,r.jsxs)("div",{className:"flex-1 md:w-1/2",children:[J&&(0,r.jsx)("div",{className:"rounded-md w-full bg-yellow-50 p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(F.Z,{icon:"InformationCircleIcon",className:"h-5 w-5 text-yellow-800","aria-hidden":"true"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:J})})]})}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(O.Z,{label:"Country",inline:!h,hasFilter:!0,values:p.hW.map((function(e){return(0,l.Z)((0,a.Z)({},e),{id:e.code})})),value:Z,onChange:function(e){return S(e)},error:!R&&!Z&&"You must select your country"}),(0,r.jsx)("hr",{className:"!my-0"}),(0,r.jsxs)(A.Z,{className:"button light lg w-full",onClick:function(){return le()},loading:f,disabled:!Z,children:[(0,r.jsx)("div",{className:"w-5 h-5 relative mr-4 flex-none",children:(0,r.jsx)(H(),{unoptimized:!0,src:"/images/google-logo.png",layout:"fill",alt:"Google"})}),"Sign up with Google"]}),(0,r.jsxs)("div",{className:"w-full flex gap-3 items-center justify-center",children:[(0,r.jsx)("hr",{className:"w-full !my-0"}),(0,r.jsx)("div",{className:"flex-1 whitespace-nowrap text-center text-gray-500",children:"Or continue with"}),(0,r.jsx)("hr",{className:"w-full !my-0"})]}),(0,r.jsx)(I.Z,{label:"Email",error:y&&!(0,p.oH)(y)||!y&&!R?"You must provide a valid email":"",name:"email",type:"email",value:y,onChange:function(e){L((0,p.oH)(e)),k(e)}}),(0,r.jsx)(T.Z,{label:"Password",value:j,minStrength:3,thresholdLength:7,required:!0,helperText:"Password needs to be at least 8 characters long",errorText:!j&&!R&&"You must provide a password",onChange:function(e){return N(e)},onValid:function(e){return z(e)}}),(0,r.jsx)(A.Z,{type:"submit",className:"primary lg w-full",disabled:f||!R||!V,loading:f,onClick:function(){return b(!0),void te.current.execute()},children:"Create your account"}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm text-center",children:['By clicking "Create your account" you agree to Durable\'s ',(0,r.jsx)(E(),{href:"https://durable.co/privacy-policy",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Privacy Policy"})})," and ",(0,r.jsx)(E(),{href:"https://durable.co/terms-of-service",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Terms of Service"})}),"."]})]}),(0,r.jsx)("div",{className:"invisible",children:(0,r.jsx)(M.Z,{ref:te,size:"invisible",sitekey:"6Leu0w4eAAAAAN0DPcebVt2LMLmRMOIocTcPheC0",onChange:ae})})]})]}),(0,r.jsx)("div",{className:"flex-1 md:w-1/2 space-y-4 md:pl-6 pt-6 md:pt-0 text-gray-900",children:(0,r.jsx)("ul",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:G.map((function(e,n){return(0,r.jsxs)("li",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center bg-green-500 w-6 h-6 rounded-full",children:(0,r.jsx)(F.Z,{icon:"CheckSolidIcon",className:"text-white h-5 w-5"})}),(0,r.jsx)("span",{className:"font-semibold text-sm",children:e})]},"feature-".concat(n))}))})})]})})})}var K=t(86067),J=t(8248),Y=t(32446),$=t(50899),Q=function(){return(0,r.jsxs)("div",{className:"h-full w-full bg-gray-50 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-10 container mx-auto p-6",children:[(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-40",classNameChild:"!h-10"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-120",children:(0,r.jsxs)("div",{className:"container mx-auto z-10 my-12 lg:my-32 xl:my-40",children:[(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full md:w-2/3",classNameChild:"!h-40 mb-4"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full md:w-2/3",classNameChild:"!h-28 mb-6"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"mt-6 lg:mt-8 w-full md:w-40",classNameChild:"!h-16"})]})}),(0,r.jsxs)("div",{className:"container mx-auto py-12 lg:py-14 xl:py-20",children:[(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-40",classNameChild:"!h-10 mb-4 lg:mb-10"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"})]})]}),(0,r.jsx)("div",{className:"container mx-auto py-12 lg:py-14 xl:py-20",children:(0,r.jsxs)("div",{className:"max-w-5xl text-center mx-auto",children:[(0,r.jsx)(m.Z,{variant:"skeleton",className:"inline-block w-full",classNameChild:"!h-40 mb-4"}),(0,r.jsx)(m.Z,{variant:"skeleton",className:"inline-block w-40",classNameChild:"!h-10"})]})})]})},X=function(e){var n=e.builderStepLoaderText;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black backdrop-blur-xs z-100 font-sans bg-opacity-20 flex flex-col items-center justify-center p-6",children:(0,r.jsx)("div",{className:"py-6 px-8 bg-white bg-opacity-95 rounded-lg shadow-lg",children:(0,r.jsx)(m.Z,{text:n})})})},ee=function(e){var n=e.getInstance,t=e.setPreviewWebsite,i=e.websiteBuilt,a=(0,P.Z)().sendUserEvent,l=(0,U.zl)();return(0,c.useEffect)((function(){i||(a("ai_website_complete"),l.capture("website_created"))}),[]),(0,r.jsxs)("div",{className:"fixed inset-0 bg-black backdrop-blur-xs z-100 font-sans bg-opacity-20 flex flex-col items-center justify-center p-6",children:[(0,r.jsxs)("div",{className:"p-8 lg:px-12 bg-white bg-opacity-95 rounded-lg shadow-lg text-center",children:[(0,r.jsx)("p",{className:"text-h3 lg:text-h2 font-bold mb-6",children:"Your website is ready!"}),(0,r.jsx)("button",{className:"primary",onClick:function(){return t(!0)},children:"See it"})]}),(0,r.jsx)(h(),{refConfetti:n,style:{position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0}})]})},ne=function(e){var n=e.websiteBuilt,t=e.step,m=void 0===t?3:t,g=e.website,h=e.setWebsite,v=e.pictures,f=e.location,b=e.backLink,x=(0,o.Z)((0,K.Z)("website.button",{}),2)[1],y=(0,c.useState)("Building..."),k=y[0],w=y[1],j=(0,c.useState)([]),N=j[0],C=j[1],Z=(0,c.useState)({}),S=Z[0],F=Z[1],_=(0,c.useState)(null),I=_[0],T=_[1],B=(0,c.useState)(7),A=B[0],M=B[1],W=(0,c.useState)(!1),E=W[0],O=W[1],V=(0,c.useState)(!1),H=(V[0],V[1]),P=(0,c.useState)([]),D=P[0],G=P[1],ne=(0,c.useState)(null),te=ne[0],ie=ne[1],ae=(0,c.useState)(!1),le=ae[0],oe=ae[1],se=(0,c.useState)(null),re=se[0],ce=se[1],ue=(0,c.useState)({blocksRegeneratedCount:0,fullRegeneratedCount:0}),de=ue[0],me=ue[1],ge=(0,c.useRef)(null),he=(0,c.useRef)(null),ve=(0,c.useRef)(null),fe=(0,U.zl)(),pe=(0,u.useRouter)(),be=(0,L.Z)(),xe=be.confirm,ye=be.ConfirmDialog,ke=(0,J.Z)().getDataViaOpenAI,we=(0,$.Z)().getLocation,je=(0,q.Z)(),Ne=je.get,Ce=je.post,Ze=pe.query,Se=Ze.error,Fe=Ze.signup,_e=Ze.v,Re=(0,c.useState)(!(!Se&&!Fe)),Le=Re[0],Ie=Re[1],Te=[],qe=[{id:"16635",url:"https://static.thenounproject.com/png/16635-200.png",author:"Studio TROISQUATRE",authorLink:"https://thenounproject.com/term/award/16635?utm_source=Durable.co&utm_medium=referral",type:"icon"},{id:"431",url:"https://static.thenounproject.com/png/431-200.png",author:"Edward Boatman",authorLink:"https://thenounproject.com/term/star/431?utm_source=Durable.co&utm_medium=referral",type:"icon"},{id:"154796",url:"https://static.thenounproject.com/png/154796-200.png",author:"Antar",authorLink:"https://thenounproject.com/term/thumb-up/154796?utm_source=Durable.co&utm_medium=referral",type:"icon"}],Be=function(){var e=(0,i.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,Ne("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&G(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,i.Z)((function(e){var n;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ne("/media/search-icons",{query:e})];case 1:return(n=t.sent())&&n.status&&n.content?n.content.icons.length>2?[2,n.content.icons.slice(0,3).map((function(e){var n;return{id:e.id,url:e.preview_url,author:null===(n=e.uploader)||void 0===n?void 0:n.name,authorLink:"https://thenounproject.com"+e.permalink+"?utm_source=Durable.co&utm_medium=referral",type:"icon"}}))]:[2,qe]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}(),Me=function(){var e=(0,i.Z)((function(e){var n;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ce("/media/search-unsplash",{query:e})];case 1:return(n=t.sent())&&n.status&&n.content&&n.content.response?[2,n.content.response.results.slice(0,6).map((function(e){var n,t;return{id:e.id,url:e.urls.regular,author:null===(n=e.user)||void 0===n?void 0:n.first_name,authorLink:e.user.links.html+"?utm_source=Durable.co&utm_medium=referral",type:"unsplash",download:null===(t=e.links)||void 0===t?void 0:t.download_location}}))]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}(),We=function(){var e=(0,i.Z)((function(){var e,n,t,i,a,l,o,r,c,u,d,m,g,h;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,Ne("/website/get-fonts")];case 1:return(e=s.sent())&&!0===e.status&&e.content&&(n=e.content,t=[],(i=n.find((function(e){return"Roboto"===e.name})))&&(a=n.find((function(e){return"Poppins"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(a.name||i.name),head:i,body:a||i})),(i=n.find((function(e){return"Arvo"===e.name})))&&(l=n.find((function(e){return"Lato"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(l.name||i.name),head:i,body:l||i})),(i=n.find((function(e){return"Merriweather"===e.name})))&&(o=n.find((function(e){return"Mulish"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(o.name||i.name),head:i,body:o||i})),(i=n.find((function(e){return"Work Sans"===e.name})))&&(r=n.find((function(e){return"Open Sans"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(r.name||i.name),head:i,body:r||i})),(i=n.find((function(e){return"Oswald"===e.name})))&&(c=n.find((function(e){return"Quattrocento"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(c.name||i.name),head:i,body:c||i})),(i=n.find((function(e){return"Varela"===e.name})))&&(u=n.find((function(e){return"PT Sans"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(u.name||i.name),head:i,body:u||i})),(i=n.find((function(e){return"Ovo"===e.name})))&&(d=n.find((function(e){return"Quattrocento"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(d.name||i.name),head:i,body:d||i})),(i=n.find((function(e){return"Ubuntu"===e.name})))&&(m=n.find((function(e){return"Open Sans"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(m.name||i.name),head:i,body:m||i})),(i=n.find((function(e){return"Slabo 13px"===e.name})))&&(g=n.find((function(e){return"Lato"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(g.name||i.name),head:i,body:g||i})),(i=n.find((function(e){return"Rufina"===e.name})))&&(h=n.find((function(e){return"PT Serif"===e.name})),t.push({id:i._id,name:"".concat(i.name," + ").concat(h.name||i.name),head:i,body:h||i})),C(t)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,i.Z)((function(e){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,We()];case 1:return n.sent(),[4,Be()];case 2:return n.sent(),(0,p.Fs)("pages",[]),oe(!1),e?(ce(e._id),F(e.page),h(e),T(A+1),O(!0),ie(e._id)):ie(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Oe=[{id:"template1",header:{style:"left"},footer:{style:["split-right","split-left","stacked-left","simple-right"]},blocks:[{type:"banner",align:"left",background:{type:"color",color:"primaryColor"},button:{label:"Contact us",type:"url",link:"#"}},{type:"image",fullWidth:!0},{type:"text",align:"left",lighten:{color:"primaryColor",magnitude:50}},{type:"list",quantity:3,headline:"Our Services",aspectRatio:"16:9",align:"left",showButton:!0},{type:"quote",quantity:"1-3",image:!1,lighten:{color:"primaryColor",magnitude:50}},{type:"gallery",quantity:"5-6",headline:"",style:"carousel",aspectRatio:"16:9"},{type:"location",style:"inline",theme:["streets","outdoors","satellite"],align:"left",lighten:{color:"primaryColor",magnitude:50}},{type:"contact",align:"right"}]},{id:"template2",header:{style:"center"},footer:{style:["stacked-center","simple-center"]},blocks:[{type:"banner",align:"center",background:{type:"image",overlay:{color:"darkTheme",amount:50}}},{type:"gallery",quantity:5,headline:"Our Work",style:"grid",aspectRatio:"1:1",background:"primaryColor"},{type:"text",align:"center",lighten:{color:"primaryColor",magnitude:70}},{type:"list",quantity:3,headline:"Our Services",aspectRatio:"1:1",align:"center",lighten:{color:"primaryColor",magnitude:70}},{type:"quote",quantity:"1-3",image:!0,background:"primaryColor"},{type:"location",style:"background",align:"right",background:"darkTheme"},{type:"contact",align:"left",lighten:{color:"primaryColor",magnitude:70}}]},{id:"template3",header:{style:"full-center"},footer:{style:["stacked-center","simple-center"]},blocks:[{type:"banner",align:"center",background:{type:"image",overlay:{color:"primaryColor",amount:50}},button:{label:"Learn more",type:"url",link:"#"}},{type:"hero",showHeadline:!1,image:{align:"left",aspectRatio:"16:9"}},{type:"hero",showHeadline:!1,image:{align:"right",aspectRatio:"16:9"}},{type:"list",quantity:2,headline:"Our Services",aspectRatio:"1:1",align:"center",background:"tertiaryColor"},{type:"quote",quantity:3,image:!0},{type:"image",fullWidth:!0},{type:"contact",align:"right"},{type:"location",style:"background",theme:["outdoors"],align:"left",background:"#FFFFFF"}]},{id:"template4",header:{style:"full-center"},footer:{style:["stacked-center","simple-center"]},blocks:[{type:"banner",align:"center",background:{type:"image",overlay:{color:"tertiaryColor",amount:50}},button:{label:"Learn more",type:"url",link:"#"}},{type:"hero",showHeadline:!0,image:{align:"left",aspectRatio:"16:9"},button:{label:"Contact",type:"url",link:"#"}},{type:"list",quantity:3,headline:"Our Services",aspectRatio:"1:1",align:"left",showButton:!0,lighten:{color:"primaryColor",magnitude:20}},{type:"quote",align:"left",background:"tertiaryColor"},{type:"gallery",quantity:6,headline:"Our Clients",aspectRatio:"1:1",align:"left",style:"grid"},{type:"location",style:"background",theme:["streets"],align:"left",background:"#FFFFFF"},{type:"contact",align:"right",lighten:{color:"primaryColor",magnitude:20}}]},{id:"template5",header:{style:"left",button:{label:"Call Us",type:"url",link:"#"}},footer:{style:["split-right","split-left","stacked-left","simple-right"]},blocks:[{type:"banner",align:"center",background:{type:"image",overlay:{color:"primaryColor",amount:70}},button:{label:"Contact",type:"url",link:"#"}},{type:"quote",align:"center",lighten:{color:"primaryColor",magnitude:70}},{type:"list",quantity:6,headline:"Featured",aspectRatio:"3:2",align:"center",showButton:!0,lighten:{color:"primaryColor",magnitude:50}},{type:"hero",action:"about-team",headline:"Meet the team",showHeadline:!0,image:{align:"right",aspectRatio:"3:2"},lighten:{color:"primaryColor",magnitude:70}},{type:"list",quantity:3,action:"business-stats",headline:!1,align:"center",showIcon:!0,showContent:!1,lighten:{color:"primaryColor",magnitude:70}},{type:"contact",align:"right",lighten:{color:"primaryColor",magnitude:50}},{type:"location",style:"background",theme:["satellite"],align:"left",background:"primaryColor"}]}],Ve=function(){var e=(0,i.Z)((function(){var e,n,t,i,l,o,r,c,u,d,m,v,f,b,x,y,k,j,C,Z,S,F,_;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return d=["solid","solid","solid","solid","outline"],m=["left","left","center","full-center","full-center"],v=[0,8,8,8,8,8],f=["small","medium","large"],w("Picking a color palette..."),[4,ke("colors",{vertical:null===(e=g.business)||void 0===e?void 0:e.vertical,location:null===(n=g.business)||void 0===n?void 0:n.location,quantity:3})];case 1:return b=s.sent(),(x=b.content)||(x=["#CCCCCC","#4330C0","#333333"]),x[0]||(x[0]="#CCCCCC"),x[1]||(x[1]="#4330C0"),x[2]||(x[2]="#333333"),(y=(0,p.kd)(N))||(y=N[0]),k=Math.random()>.5,w("Choosing the best layout for your business..."),[4,ke("mars-template",{vertical:null===(t=g.business)||void 0===t?void 0:t.vertical,location:null===(i=g.business)||void 0===i?void 0:i.location})];case 2:return j=s.sent(),C=j.content,(Z=Oe.find((function(e){return e.id===C})))&&M(Z.blocks.length),S=(0,p.kd)(v),F=S>0?(0,p.kd)(f):"no-rounded",_={template:Z,showLogo:!1,logo:null,darkTheme:k,primaryColor:x[0],secondaryColor:x[1],tertiaryColor:x[2],cornerRadius:F,social:[{type:"facebook",link:"https://facebook.com"},{type:"instagram",link:"instagram.com"},{type:"twitter",link:"https://twitter.com"}],button:{background:x[1],style:(0,p.kd)(d),cornerRadius:S},fonts:{head:y.head,body:y.body},header:{siteName:null===(l=g.business)||void 0===l?void 0:l.name,showLogo:!1,source:"branding",customLogo:null,logoDesktop:{height:80},logoMobile:{height:40},showSocial:!0,background:x[0],fullWidth:Math.random()>.5,sticky:Math.random()>.5,style:(null===Z||void 0===Z||null===(o=Z.header)||void 0===o?void 0:o.style)||(0,p.kd)(m),button:null===Z||void 0===Z||null===(r=Z.header)||void 0===r?void 0:r.button},footer:{showLogo:!0,businessName:null===(c=g.business)||void 0===c?void 0:c.name,showSocial:!0,background:k?"#111111":"#ffffff",button:null,style:(null===Z||void 0===Z||null===(u=Z.footer)||void 0===u?void 0:u.style)?(0,p.kd)(Z.footer.style):"split-right"}},["template2","template3","template4"].includes(null===Z||void 0===Z?void 0:Z.id)?_.footer.background=_.header.background:"template5"===(null===Z||void 0===Z?void 0:Z.id)?_.footer.background=(0,p.iH)(_.primaryColor,70):_.footer.background=_.tertiaryColor,h((function(e){return(0,a.Z)({},e,_)})),T(1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),He=function(e,n){"function"==typeof(null===ve||void 0===ve?void 0:ve.current)&&(null===ve||void 0===ve||ve.current((0,l.Z)((0,a.Z)({},n),{origin:{y:.7},particleCount:Math.floor(200*e)})))},Pe=function(){var e=(0,i.Z)((function(e,t,i,a){var l;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:return n?[3,2]:(H(!0),[4,Ce("/marketing/save-mars-website",{website:e,page:t,originalId:i,action:a}).catch((function(e){return console.log(e)}))]);case 1:return(l=o.sent())&&l.status&&l.content?(ce(l.content),H(!1),[2,l.content]):(p.Z9.error("Error creating a shareable link. Please try again."),H(!1),[2,null]);case 2:return[2,n._id];case 3:return[2]}}))}));return function(n,t,i,a){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,i.Z)((function(){var e,n,t,i,o,r,c,u,d,m,h,f,b,x,y,k,w,j,N,C,Z,_,R,L,q,B,M,W,E,O,V,H,P,U;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return e=(null===S||void 0===S?void 0:S.blocks)||[],"string"===typeof(n=null===g||void 0===g?void 0:g.template)&&(n=Oe.find((function(e){return e.id===n}))),t=null===n||void 0===n?void 0:n.blocks[I-1],n&&t?(i=I-1,[4,Ge({WebsiteBlock:D.find((function(e){return e.type===t.type})),idx:I},t)]):[3,2];case 1:return e[i]=s.sent(),F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),[3,26];case 2:switch(s.trys.push([2,25,,26]),I){case 1:return[3,3];case 2:return[3,5];case 3:return[3,11];case 4:return[3,14];case 5:return[3,16];case 6:return[3,19];case 7:return[3,21]}return[3,24];case 3:return o=0,[4,Ge({WebsiteBlock:D.find((function(e){return"banner"===e.type})),idx:1})];case 4:return e[o]=s.sent(),F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),[3,24];case 5:return Math.random()>.3?Math.random()>.3?(r=1,[4,Ge({WebsiteBlock:D.find((function(e){return"gallery"===e.type})),idx:2})]):[3,7]:[3,10];case 6:return e[r]=s.sent(),[3,9];case 7:return c=1,[4,Ge({WebsiteBlock:D.find((function(e){return"image"===e.type})),idx:2})];case 8:e[c]=s.sent(),s.label=9;case 9:F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),s.label=10;case 10:return[3,24];case 11:return Math.random()>.1?(u=2,[4,Ge({WebsiteBlock:D.find((function(e){return"quote"===e.type})),idx:3})]):[3,13];case 12:e[u]=s.sent(),F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),s.label=13;case 13:return[3,24];case 14:return b=["left","center"],x=["top","middle","middle","middle"],y=["Services","Services","Services","Our services","Our services","My services",""],[4,ke("services",{quantity:3,vertical:null===(d=g.business)||void 0===d?void 0:d.vertical,location:null===(m=g.business)||void 0===m?void 0:m.location,name:null===(h=g.business)||void 0===h?void 0:h.name,language:null===(f=g.business)||void 0===f?void 0:f.language})];case 15:for(k=s.sent(),w=k.content,j=k.logging,w=w.slice(0,3),N=[],C=0;C<3;C++)Z=(0,p.kd)(v.filter((function(e){return!Te.map((function(e){return e.url})).includes(e.url)}))),N.push(Z),Te.push(Z);if(_=j?[{LogsLLMCompletion:{_id:j}}]:[],Math.random()>.7)for(R=(0,p.kd)(x),L=0;L<w.length;L++)q=w[L],B=null===q||void 0===q?void 0:q.title,M=null===q||void 0===q?void 0:q.description,e[3+L]={WebsiteBlock:D.find((function(e){return"hero"===e.type})),idx:"service-".concat(L),type:"hero",content:"".concat(B?'<h3 style="white-space: pre-line">'.concat(B,"</h3>"):"").concat(M?'<p style="white-space: pre-line">'.concat(M,"</p>"):""),align:R,background:g.darkTheme?"#333333":"#FFFFFF",image:{media:N[L],align:1===L?"right":"left"},logging:_};else{for(W=[],E=0;E<w.length;E++)O=w[E],W.push({title:null===O||void 0===O?void 0:O.title,content:null===O||void 0===O?void 0:O.description,image:N[E],idx:E,button:{label:"More info",type:"url",link:"#"}});e[3]={WebsiteBlock:D.find((function(e){return"list"===e.type})),idx:4,type:"list",headline:(0,p.kd)(y),aspectRatio:"3:2",justify:"start",align:(0,p.kd)(b),background:g.darkTheme?"#333333":"#FFFFFF",showImage:!0,showHeading:!0,showContent:!0,showButton:!0,items:W,logging:_},e[4]=null,e[5]=null}return F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),[3,24];case 16:return Math.random()>.4?(V=6,[4,Ge({WebsiteBlock:D.find((function(e){return"location"===e.type})),idx:5})]):[3,18];case 17:e[V]=s.sent(),F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),s.label=18;case 18:return[3,24];case 19:return H=7,[4,Ge({WebsiteBlock:D.find((function(e){return"contact"===e.type})),idx:6})];case 20:return e[H]=s.sent(),F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),[3,24];case 21:return Math.random()>.1?(P=8,[4,Ge({WebsiteBlock:D.find((function(e){return"text"===e.type})),idx:7})]):[3,23];case 22:e[P]=s.sent(),F((function(n){return(0,l.Z)((0,a.Z)({},n),{blocks:e})})),s.label=23;case 23:return[3,24];case 24:return[3,26];case 25:return s.sent(),[3,26];case 26:return I<=A?(T(I+1),[3,29]):[3,27];case 27:return He(.25,{spread:26,startVelocity:55}),He(.2,{spread:60}),He(.35,{spread:100,decay:.91,scalar:.8}),He(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),He(.1,{spread:120,startVelocity:45}),[4,Pe(g,S,re,"generate")];case 28:(U=s.sent())&&ie(U),s.label=29;case 29:return[2]}}))}));return function(){return e.apply(this,arguments)}}();function De(){return De=(0,i.Z)((function(){var e;return(0,s.__generator)(this,(function(n){return fe.identify(null===(e=pe.query)||void 0===e?void 0:e.ph_id),fe.capture("mars_rebuild",{vertical:g.business.vertical}),h((function(e){return(0,l.Z)((0,a.Z)({},e),{business:(0,l.Z)((0,a.Z)({},e.business),{name:g.business.name,location:g.business.location,vertical:g.business.vertical,language:g.business.language})})})),me((function(e){return(0,l.Z)((0,a.Z)({},e),{fullRegeneratedCount:e.fullRegeneratedCount+1})})),[2]}))})),De.apply(this,arguments)}var Ge=function(){var e=(0,i.Z)((function(e,n){var t,i,a,l,o,r,c,u,d,m,h,f,b,x,y,k,j,N,C,Z,S,F,_,R,L,I,T,q,B,A,M,W,E,O,V,H,P,U,D,G,z,K,J,$,Q,X,ee,ne,te,ie,ae,le,oe,se,re,ce,ue,de,me,ge,he,ve,fe,pe,be,xe,ye,je,Ne,Ce,Ze,Se,Fe,_e,Re,Le,Ie,qe,Be,We,Ee,Oe,Ve,He,Pe,Ue,De,Ge,ze,Ke,Je,Ye,$e,Qe,Xe;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:switch(t=["left","center"],i=["top","middle","middle","middle"],a=["16:9","16:9","3:2"],e.WebsiteBlock.type){case"banner":return[3,1];case"gallery":return[3,4];case"hero":return[3,6];case"image":return[3,8];case"quote":return[3,10];case"location":return[3,17];case"contact":return[3,20];case"text":return[3,22];case"list":return[3,24]}return[3,28];case 1:return w("Generating a beautiful banner..."),f=(0,p.kd)(v.filter((function(e){return!Te.map((function(e){return e.url})).includes(e.url)}))),Te.push(f),[4,ke("heading",{vertical:null===(l=g.business)||void 0===l?void 0:l.vertical,location:null===(o=g.business)||void 0===o?void 0:o.location,name:null===(r=g.business)||void 0===r?void 0:r.name,language:null===(c=g.business)||void 0===c?void 0:c.language})];case 2:return b=s.sent(),x=b.content,y=b.logging,[4,ke("content",{vertical:null===(u=g.business)||void 0===u?void 0:u.vertical,location:null===(d=g.business)||void 0===d?void 0:d.location,name:null===(m=g.business)||void 0===m?void 0:m.name,language:null===(h=g.business)||void 0===h?void 0:h.language})];case 3:return k=s.sent(),j=k.content,N=k.logging,e.headline=x,e.content=j,e.logging=[],y&&e.logging.push({LogsLLMCompletion:{_id:y}}),N&&e.logging.push({LogsLLMCompletion:{_id:N}}),n?(e.align=n.align,e.background=n.background,"color"===e.background.type&&e.background.color.includes("Color")&&(e.background.color=g[e.background.color]),"image"===e.background.type&&(e.background.overlay.color.includes("Color")?e.background.overlay.color=g[e.background.overlay.color]:"darkTheme"===e.background.overlay.color&&(e.background.overlay.color=g.darkTheme?"#FFFFFF":g.primaryColor),e.background.image=f),e.button=n.button):(e.background={type:"image",image:f,color:"#F3F4F6",overlay:{color:"rgba(0,0,0,".concat(g.darkTheme?.7:.5,")"),amount:70}},e.align=Math.random()>.5?"left":"center",e.button={label:"Contact",type:"url",link:"#"}),[3,28];case 4:return w("Creating a gallery..."),[4,(0,p._v)(2e3)];case 5:for(s.sent(),Z=[],isNaN(null===n||void 0===n?void 0:n.quantity)?(F=n.quantity.split("-"),S=Math.random()>.5?F[0]:F[1]):S=(null===n||void 0===n?void 0:n.quantity)||6,_=0;_<S;_++)(R=(0,p.kd)(v.filter((function(e){return!Te.map((function(e){return e.url})).includes(e.url)}))))&&(Z.push(R),Te.push(R));return e.style=(null===n||void 0===n?void 0:n.style)||Math.random()>.5?"grid":"carousel",e.aspectRatio=(null===n||void 0===n?void 0:n.aspectRatio)||(0,p.kd)(a),e.headline=n.headline||(0,p.kd)(["Gallery","Gallery","Pictures",""]),e.cornerRadius=g.cornerRadius,e.pictures=Z,"grid"===e.style&&(e.allowFullscreen=Math.random()>.5),(null===n||void 0===n?void 0:n.lighten)?e.background=(0,p.iH)(g[n.lighten.color],n.lighten.magnitude):(null===n||void 0===n||null===(C=n.background)||void 0===C?void 0:C.includes("Color"))?e.background=g[n.background]:e.background=g.darkTheme?"#333333":"#FFFFFF",[3,28];case 6:return w("Generating a beautiful hero..."),B=(null===n||void 0===n?void 0:n.action)||"services",[4,ke(B,{quantity:1,vertical:null===(L=g.business)||void 0===L?void 0:L.vertical,location:null===(I=g.business)||void 0===I?void 0:I.location,name:null===(T=g.business)||void 0===T?void 0:T.name,language:null===(q=g.business)||void 0===q?void 0:q.language})];case 7:return A=s.sent(),M=A.content,W=A.logging,M.length>0&&(P=(0,p.kd)(v.filter((function(e){return!Te.map((function(e){return e.url})).includes(e.url)}))),Te.push(P),e.content="",(null===n||void 0===n?void 0:n.showHeadline)&&(e.content="<h2>".concat(n.headline||(null===(U=M[0])||void 0===U?void 0:U.title),"</h2>")),e.content+="<p>".concat((null===(E=M[0])||void 0===E?void 0:E.description)||M,"</p>"),e.align=(null===n||void 0===n?void 0:n.align)||(0,p.kd)(i),e.image={media:P,aspectRatio:(null===n||void 0===n||null===(O=n.image)||void 0===O?void 0:O.aspectRatio)||(0,p.kd)(a),align:(null===n||void 0===n||null===(V=n.image)||void 0===V?void 0:V.align)||(0,p.kd)(t),cornerRadius:g.cornerRadius},e.button=null===n||void 0===n?void 0:n.button,W&&(e.logging=[{LogsLLMCompletion:{_id:W}}]),(null===n||void 0===n?void 0:n.lighten)?e.background=(0,p.iH)(g[n.lighten.color],n.lighten.magnitude):(null===n||void 0===n||null===(H=n.background)||void 0===H?void 0:H.includes("Color"))?e.background=g[n.background]:e.background=g.darkTheme?"#333333":"#FFFFFF"),[3,28];case 8:return w("Adding a beautiful picture..."),[4,(0,p._v)(2e3)];case 9:return s.sent(),(D=(0,p.kd)(v.filter((function(e){return!Te.map((function(e){return e.url})).includes(e.url)}))))&&Te.push(D),e.fullWidth=(null===n||void 0===n?void 0:n.fullWidth)||Math.random()>.5,e.aspectRatio=(0,p.kd)(a),e.cornerRadius=g.cornerRadius,e.media=D,[3,28];case 10:return w("Writing a positive testimonial..."),(null===n||void 0===n?void 0:n.quantity)&&isNaN(null===n||void 0===n?void 0:n.quantity)?(K=n.quantity.split("-"),z=Math.random()>.5?K[0]:K[1]):z=(null===n||void 0===n?void 0:n.quantity)||1,J=[],(null===n||void 0===n?void 0:n.image)?[4,Me("person")]:[3,12];case 11:J=s.sent(),s.label=12;case 12:e.items=[],$=0,s.label=13;case 13:return $<z?[4,ke("testimonials",{quantity:1,vertical:null===(Q=g.business)||void 0===Q?void 0:Q.vertical,location:null===(X=g.business)||void 0===X?void 0:X.location,name:null===(ee=g.business)||void 0===ee?void 0:ee.name,language:null===(ne=g.business)||void 0===ne?void 0:ne.language})]:[3,16];case 14:te=s.sent(),ie=te.content,ae=te.logging,(le=Array.isArray(ie)?ie[0]:ie)||(le={}),(null===le||void 0===le?void 0:le.text)||(le.text="The best service I've ever seen!"),(null===le||void 0===le?void 0:le.author)||(le.author="John D."),e.items.push({content:null===le||void 0===le?void 0:le.text,by:"- "+(null===le||void 0===le?void 0:le.author),image:(null===n||void 0===n?void 0:n.image)&&J.length>z?J[$]:null,idx:$}),ae&&(e.logging=[{LogsLLMCompletion:{_id:ae}}]),s.label=15;case 15:return $++,[3,13];case 16:return e.align=(null===n||void 0===n?void 0:n.align)||(0,p.kd)(t),(null===n||void 0===n?void 0:n.lighten)?e.background=(0,p.iH)(g[n.lighten.color],n.lighten.magnitude):(null===n||void 0===n||null===(G=n.background)||void 0===G?void 0:G.includes("Color"))?e.background=g[n.background]:e.background=g.darkTheme?"#222222":"#F3F4F6",[3,28];case 17:return w("Adding a map..."),[4,(0,p._v)(2e3)];case 18:return s.sent(),e.headline=(null===n||void 0===n?void 0:n.headline)||"Location",e.style=(null===n||void 0===n?void 0:n.style)||(Math.random()>.5?"inline":"background"),e.align=(null===n||void 0===n?void 0:n.align)||(Math.random()>.5?"left":"right"),e.address=null===(oe=g.business)||void 0===oe?void 0:oe.location,[4,we({address:null!==(re=e.address)&&void 0!==re?re:"United States"})];case 19:return ce=s.sent().cords,e.latLng=ce,e.marker=null!==(ue=null===g||void 0===g?void 0:g.secondaryColor)&&void 0!==ue?ue:theme.extend.colors.indigo[600],e.cornerRadius=g.cornerRadius,"darkTheme"===(null===n||void 0===n?void 0:n.theme)?e.theme=g.darkTheme?"dark":"light":Array.isArray(null===n||void 0===n?void 0:n.theme)?e.theme=(0,p.kd)(n.theme):e.theme=(0,p.ci)(Object.keys(Y.P),[2,3,2,1,2]),(null===n||void 0===n?void 0:n.lighten)?e.background=(0,p.iH)(g[n.lighten.color],n.lighten.magnitude):(null===n||void 0===n||null===(se=n.background)||void 0===se?void 0:se.includes("Color"))?e.background=g[n.background]:"darkTheme"===(null===n||void 0===n?void 0:n.background)?e.background=g.darkTheme?"#FFFFFF":g.primaryColor:(null===n||void 0===n?void 0:n.background)?e.background=n.background:e.background=g.darkTheme?"#222222":"#F3F4F6",[3,28];case 20:return w("Adding a lead capture form..."),[4,ke("contact-form",{vertical:null===(de=g.business)||void 0===de?void 0:de.vertical,location:null===(me=g.business)||void 0===me?void 0:me.location,name:null===(ge=g.business)||void 0===ge?void 0:ge.name,language:null===(he=g.business)||void 0===he?void 0:he.language})];case 21:return fe=s.sent(),pe=fe.content,be=fe.logging,e.fields=[],e.content="<h3>".concat(pe.title,"</h3><br/><p>").concat(pe.description,"</p>"),be&&(e.logging=[{LogsLLMCompletion:{_id:be}}]),e.align=(null===n||void 0===n?void 0:n.align)||(0,p.kd)(t),(null===n||void 0===n?void 0:n.lighten)?e.background=(0,p.iH)(g[n.lighten.color],n.lighten.magnitude):(null===n||void 0===n||null===(ve=n.background)||void 0===ve?void 0:ve.includes("Color"))?e.background=g[n.background]:e.background=g.darkTheme?"#333333":"#FFFFFF",[3,28];case 22:return w("Writing a paragraph about your business..."),[4,ke("about-us",{vertical:null===(xe=g.business)||void 0===xe?void 0:xe.vertical,location:null===(ye=g.business)||void 0===ye?void 0:ye.location,name:null===(je=g.business)||void 0===je?void 0:je.name,language:null===(Ne=g.business)||void 0===Ne?void 0:Ne.language})];case 23:return Se=s.sent(),Fe=Se.content,_e=Se.logging,Fe||(Fe=""),Re=Math.random()>.9?"About ".concat(null===(Ce=g.business)||void 0===Ce?void 0:Ce.name):"About us",e.content="".concat(Re?'<h3 style="white-space: pre-line">'.concat(Re,"</h3>"):"").concat(Fe?'<p style="white-space: pre-line">'.concat(Fe,"</p>"):""),_e&&(e.logging=[{LogsLLMCompletion:{_id:_e}}]),e.align=(null===n||void 0===n?void 0:n.align)||(0,p.kd)(t),(null===n||void 0===n?void 0:n.lighten)?e.background=(0,p.iH)(g[n.lighten.color],n.lighten.magnitude):(null===n||void 0===n||null===(Ze=n.background)||void 0===Ze?void 0:Ze.includes("Color"))?e.background=g[n.background]:e.background=g.darkTheme?"#222222":"#F3F4F6",[3,28];case 24:return w("Adding some ".concat("business-stats"===(null===n||void 0===n?void 0:n.action)?"stats":"services","...")),isNaN(null===n||void 0===n?void 0:n.quantity)?(Oe=null===n||void 0===n?void 0:n.quantity.split("-"),Ee=Math.random()>.5?Oe[0]:Oe[1]):Ee=(null===n||void 0===n?void 0:n.quantity)||3,Ve=(null===n||void 0===n?void 0:n.action)||"services",[4,ke(Ve,{quantity:Ee,vertical:null===(Le=g.business)||void 0===Le?void 0:Le.vertical,location:null===(Ie=g.business)||void 0===Ie?void 0:Ie.location,name:null===(qe=g.business)||void 0===qe?void 0:qe.name,language:null===(Be=g.business)||void 0===Be?void 0:Be.language})];case 25:return He=s.sent(),Pe=He.content,Ue=He.logging,De=[],(null===n||void 0===n?void 0:n.showIcon)?[4,Ae(null===(Ge=g.business)||void 0===Ge?void 0:Ge.vertical)]:[3,27];case 26:De=s.sent(),s.label=27;case 27:for(Pe=Pe.slice(0,Ee),ze=[],Ke=0;Ke<Ee;Ke++)Je=(0,p.kd)(v.filter((function(e){return!Te.map((function(e){return e.url})).includes(e.url)}))),ze.push(Je),Te.push(Je);for(Ye=[],(null===n||void 0===n?void 0:n.lighten)?e.background=(0,p.iH)(g[n.lighten.color],n.lighten.magnitude):(null===n||void 0===n||null===(We=n.background)||void 0===We?void 0:We.includes("Color"))?e.background=g[n.background]:e.background=g.darkTheme?"#333333":"#FFFFFF",$e=0;$e<Pe.length;$e++)Qe=Pe[$e],Xe={title:(null===n||void 0===n?void 0:n.showIcon)?Qe:null===Qe||void 0===Qe?void 0:Qe.title,content:null===Qe||void 0===Qe?void 0:Qe.description,idx:$e,button:{label:"More info",type:"url",link:"#"}},(null===n||void 0===n?void 0:n.showIcon)?Xe.icon={media:De[$e],color:(0,p.$O)(e.background)}:Xe.image=ze[$e],Ye.push(Xe);return e.headline=!1===(null===n||void 0===n?void 0:n.headline)?"":(null===n||void 0===n?void 0:n.headline)||(0,p.kd)(["Services","Services","Services","Our services","Our services","My services",""]),e.aspectRatio=(null===n||void 0===n?void 0:n.aspectRatio)||(0,p.kd)(a),e.cornerRadius=g.cornerRadius,e.justify="start",e.align=(null===n||void 0===n?void 0:n.align)||(0,p.kd)(t),e.showImage=!(null===n||void 0===n?void 0:n.showIcon),e.showIcon=null===n||void 0===n?void 0:n.showIcon,e.showHeading=!0,e.showContent=(null===n||void 0===n?void 0:n.showContent)||!0,e.showButton=null===n||void 0===n?void 0:n.showButton,e.items=Ye,Ue&&(e.logging=[{LogsLLMCompletion:{_id:Ue}}]),[3,28];case 28:return[2,e]}}))}));return function(n,t){return e.apply(this,arguments)}}(),ze=function(){var e=(0,i.Z)((function(e){var n,t,i,o,r,c,u,d;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return de.blocksRegeneratedCount<2?(oe(!0),r=null===(n=g.template)||void 0===n?void 0:n.blocks[e],c=(0,p.p$)(S),[4,Ge(c.blocks[e],r)]):[3,3];case 1:return delete(u=s.sent()).generating,c.blocks[e]=u,c.preventScroll=!0,F(c),oe(!1),[4,Pe(g,c,re,"regenerate-block:"+(null===u||void 0===u||null===(t=u.WebsiteBlock)||void 0===t?void 0:t.type))];case 2:return(d=s.sent())&&ie(d),fe.identify(null===(i=pe.query)||void 0===i?void 0:i.ph_id),fe.capture("mars_regen",{blockType:(null===u||void 0===u||null===(o=u.WebsiteBlock)||void 0===o?void 0:o.type)||"Unknown"}),me((function(e){return(0,l.Z)((0,a.Z)({},e),{blocksRegeneratedCount:e.blocksRegeneratedCount+1})})),[3,4];case 3:delete S.blocks[e].generating,Ie(!0),s.label=4;case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){Ee(n)}),[n]),(0,c.useEffect)((function(){if(!E){var e=setInterval((function(){I<=A&&(null===he||void 0===he?void 0:he.current)&&he.current.scrollTo(0,999999999)}),1e3);return function(){clearInterval(e)}}he.current.scrollTo(0,0)}),[I,he,E]),(0,c.useEffect)((function(){(null===v||void 0===v?void 0:v.length)&&(null===D||void 0===D?void 0:D.length)&&g.business&&g.business.vertical&&g.business.location&&g.business.name&&3===m&&(F({}),h((function(e){return{business:e.business}})),T(null),O(!1),ie(null),Ie(!1),Ve())}),[null===v||void 0===v?void 0:v.length,null===D||void 0===D?void 0:D.length,g.business,m,h]),(0,c.useEffect)((function(){if(g){var e={background:g.secondaryColor,cornerRadius:8,style:"solid"};g.button?x((0,a.Z)({},e,g.button)):x(e)}}),[g]),(0,c.useEffect)((function(){(null===he||void 0===he?void 0:he.current)&&!(null===S||void 0===S?void 0:S.preventScroll)&&he.current.scrollTo(0,999999999)}),[S]),(0,c.useEffect)((function(){I&&Ue(),(null===he||void 0===he?void 0:he.current)&&he.current.scrollTo(0,999999999)}),[I]),(0,c.useEffect)((function(){return E&&(de.blocksRegeneratedCount>0||de.fullRegeneratedCount>0)&&(ge.current&&clearTimeout(ge.current),ge.current=setTimeout((function(){Ie(!0)}),15e3)),function(){ge.current&&clearTimeout(ge.current)}}),[E,de]),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,r.jsx)(d.e,{websiteBuilt:n,handleBack:function(){n?window.location="/website-builder":xe("Exit website builder","Are you sure you want to go back? All content, images and styles will be lost.",(function(){return window.location=null!==b&&void 0!==b?b:"/website-builder?skipIntro=true&business=".concat(g.business.vertical,"&name=").concat(g.business.name).concat(_e?"&v=".concat(_e):"")}),null)},buildStep:I,totalBuildSteps:A,previewWebsite:E,handleRebuild:function(){return De.apply(this,arguments)},setOpenSignUp:Ie,allowedFullRegenerate:de.fullRegeneratedCount<1}),S&&g?(0,r.jsxs)(r.Fragment,{children:[I<=A&&(0,r.jsx)(X,{builderStepLoaderText:k}),I>A&&!E&&(0,r.jsx)(ee,{getInstance:function(e){ve.current=e},setPreviewWebsite:O,websiteBuilt:n}),(0,r.jsx)(R,{websiteBuilt:n,website:g,mainRef:he,page:S,generating:le,onRegenerate:ze,allowedBlockRegenerate:de.blocksRegeneratedCount<2})]}):(0,r.jsx)(Q,{}),(0,r.jsx)(ye,{attention:!0,successText:"Exit website builder"}),(0,r.jsx)(z,{marsWebsiteId:te,location:f,open:Le,setOpen:Ie,error:Se})]})}},99787:function(e,n,t){"use strict";t.d(n,{K:function(){return u},e:function(){return d}});var i=t(85893),a=t(69059),l=t(25675),o=t.n(l),s=t(16494),r=t(33303),c=function(e){var n=e.children,t=e.variant;return(0,i.jsx)("div",{className:(0,r.AK)("w-full flex items-center justify-between gap-4 p-6 relative bg-white shadow lg:shadow-none","builder"===t&&"z-50 !shadow"),children:n})},u=function(){return(0,i.jsx)(c,{variant:"form",children:(0,i.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,i.jsx)("div",{className:"flex-shrink-0 relative w-36 h-6",children:(0,i.jsx)(o(),{unoptimized:!0,src:"/images/durable-logo.svg",alt:"Durable checking",layout:"fill",objectFit:"cover"})})})})},d=function(e){var n=e.websiteBuilt,t=e.handleBack,l=e.buildStep,r=e.totalBuildSteps,u=e.previewWebsite,d=e.handleRebuild,m=e.setOpenSignUp,g=e.allowedFullRegenerate;return(0,i.jsxs)(c,{variant:"builder",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,i.jsx)("button",{className:"link",onClick:t,children:(0,i.jsx)(a.Z,{icon:"ChevronLeftIcon",className:"w-5 h-5 text-gray-500"})}),(0,i.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,i.jsx)("div",{className:"flex-shrink-0 relative w-8 h-6",children:(0,i.jsx)(o(),{unoptimized:!0,src:"/images/durable-icon-primary.svg",alt:"Durable checking",layout:"fill"})})})]}),l<=r&&(0,i.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,i.jsx)("span",{children:"Building your website"}),(0,i.jsx)(s.Z,{text:""})]}),l>r&&!u&&(0,i.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,i.jsx)("span",{className:"text-green-600",children:"Done"}),(0,i.jsx)(a.Z,{icon:"CheckIcon",className:"w-5 h-5 text-green-600"})]}),l>r&&u&&!n&&(0,i.jsxs)("div",{className:"flex items-center gap-3 -my-4",children:[(0,i.jsxs)("button",{className:"light gap-2 !px-2.5 lg:!px-4",onClick:function(){g?d():m(!0)},children:[(0,i.jsx)("span",{className:"hidden md:inline-block",children:"Regenerate"}),(0,i.jsx)(a.Z,{icon:"BoltIcon",className:"w-4 h-4"})]}),(0,i.jsx)("button",{onClick:function(){return m(!0)},className:"primary",children:"Customize"})]})]})}},30680:function(e,n,t){"use strict";t.d(n,{p:function(){return A}});var i=t(85893),a=t(67294),l=t(69059),o=t(51121),s=t(16494),r=t(11163),c=t(33303),u=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,o=e.location,r=(0,a.useState)(0),c=r[0],u=r[1];return n.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flex gap-2 flex-wrap mb-2",children:n.slice(c,c+3).map((function(e){return(0,i.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}),(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsxs)("button",{className:"link sm flex gap-1 mt-4 items-center",onClick:function(){return u((function(e){var t=e+3;return t>=n.length?0:t}))},children:["See more ",(0,i.jsx)(l.Z,{icon:"RefreshIcon",className:"w-4 h-4"})]})}),(0,i.jsx)(d,{chooseVertical:t})]}):(0,i.jsx)(s.Z,{text:"Suggesting verticals in ".concat(o.inline,"...")})},d=function(e){var n=e.chooseVertical,t=(0,a.useState)(""),l=t[0],s=t[1],c=(0,r.useRouter)().query.business;return(0,a.useEffect)((function(){c&&s(c)}),[c]),(0,i.jsxs)("div",{className:"flex item-center gap-4",children:[(0,i.jsx)(o.Z,{className:"w-full",placeholder:"Have an idea? Enter it here",value:l,onChange:function(e){return s(e)}}),(0,i.jsx)("button",{className:"light",disabled:!l,onClick:function(){return n({name:l,aiTerm:l,queryTerm:l})},children:"Next"})]})},m=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-h5 font-bold mb-6",children:"Getting your location..."}),(0,i.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-2/3",classNameChild:"!h-12"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-12"})]}),(0,i.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,i.jsxs)("div",{className:"flex item-center gap-4",children:[(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]})]})]})},g=function(e){var n=e.suggestedNames,t=e.chooseName,o=(0,a.useState)(0),s=o[0],r=o[1];return(0,a.useEffect)((function(){r(0)}),[n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flex gap-2 flex-wrap mb-2",children:n.slice(s,s+3).map((function(e,n){return(0,i.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:e},n)}))}),(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsxs)("button",{className:"link sm flex items-center gap-1 mt-4",onClick:function(){return r((function(e){var t=e+3;return t>=n.length?0:t}))},children:["See more ",(0,i.jsx)(l.Z,{icon:"RefreshIcon",className:"w-4 h-4"})]})})]})},h=function(e){var n=e.chooseName,t=(0,a.useState)(""),l=t[0],s=t[1],c=(0,r.useRouter)().query.name;return(0,a.useEffect)((function(){c&&s(c)}),[c]),(0,i.jsxs)("div",{className:"flex item-center gap-4",children:[(0,i.jsx)(o.Z,{className:"w-full",placeholder:"Have a name? Enter it here",value:l,onChange:function(e){return s(e)}}),(0,i.jsx)("button",{className:"secondary",disabled:!l,onClick:function(){return n(l)},children:"Next"})]})},v=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Generating really catchy business names..."}),(0,i.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2",children:[(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsx)(s.Z,{variant:"text",className:"w-[100px] !my-0"})}),(0,i.jsxs)("div",{className:"flex item-center gap-4",children:[(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]})]})},f=t(80360),p=t(52077),b=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,o=e.showSuggestions,s=e.toggleSuggestions,u=e.location,d=(0,a.useState)(null),m=d[0],g=d[1],h=(0,r.useRouter)().query.business;return(0,a.useEffect)((function(){h&&g({id:-1,name:h})}),[h]),(0,i.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-6 transition-all duration-400",o?"translate-y-1/2 opacity-0 pointer-events-none":"translate-y-0 opacity-100"),children:[(0,i.jsx)("h2",{className:"text-h2 font-bold",children:"What type of business are you building?"}),(0,i.jsxs)("div",{className:"flex item-center gap-4",children:[(0,i.jsx)(f.Z,{values:n,autocomplete:!0,showSuggestions:!0,allowUnlistedValues:!0,icon:"SearchIcon",value:m,className:"w-full",placeholder:"Enter a business type",onChange:g,showNoResults:!1,showSelectorIcon:!1,showTypingAsOption:!0}),(0,i.jsx)(p.Z,{className:"primary",disabled:!(null===m||void 0===m?void 0:m.name)||!(null===u||void 0===u?void 0:u.inline),onClick:function(){return t({name:m.name,aiTerm:m.aiTerm||m.name,queryTerm:m.queryTerm||m.name})},children:"Next"})]}),(0,i.jsxs)("p",{children:["Not sure? ",(0,i.jsxs)("button",{className:"link disabled:text-gray-400",onClick:s,disabled:!u,children:["See some suggestions ",(0,i.jsx)(l.Z,{icon:"LightBulbIcon",className:"inline w-5 h-5 mb-1"})]})]})]})},x=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,o=e.location,r=e.showSuggestions,u=e.toggleSuggestions,d=(0,a.useState)(0),m=d[0],g=d[1];return(0,i.jsxs)("div",{className:(0,c.AK)("absolute flex flex-col gap-6 mb-6 transition-all duration-400",r?"translate-y-0 opacity-100":"translate-y-1/2 opacity-0 pointer-events-none"),children:[(0,i.jsx)("h2",{className:"text-h2 font-bold",children:"What type of business would you like to start?"}),(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[n.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Here are some suggestions"}),(0,i.jsx)("div",{className:"flex gap-2 flex-wrap",children:n.slice(m,m+3).map((function(e){return(0,i.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]}):(0,i.jsx)(s.Z,{text:"Suggesting verticals".concat((null===o||void 0===o?void 0:o.inline)?" in ".concat(o.inline):"","...")}),(0,i.jsxs)("div",{className:"flex gap-5 mt-2",children:[(0,i.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:u,children:[(0,i.jsx)(l.Z,{icon:"ArrowLeftIcon",className:"w-5 h-5"})," Pick my own"]}),(0,i.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:function(){return g((function(e){var t=e+3;return t>=n.length?0:t}))},children:[(0,i.jsx)(l.Z,{icon:"RefreshIcon",className:"w-5 h-5"})," See more"]})]})]})]})},y=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Generating really catchy business names..."}),(0,i.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2",children:[(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,i.jsx)(s.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,i.jsxs)("div",{className:"flex gap-2 flex-wrap mb-6",children:[(0,i.jsx)(s.Z,{variant:"text",className:"w-[100px] !my-0"}),(0,i.jsx)(s.Z,{variant:"text",className:"w-[100px] !my-0"})]})]})},k=function(e){var n=e.chooseName,t=e.showSuggestions,s=e.toggleSuggestions,u=(0,a.useState)(""),d=u[0],m=u[1],g=(0,r.useRouter)().query.name;return(0,a.useEffect)((function(){g&&m(g)}),[g]),(0,i.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-6 transition-all duration-400",t?"translate-y-1/2 opacity-0 pointer-events-none":"translate-y-0 opacity-100"),children:[(0,i.jsx)("h2",{className:"text-h2 font-bold",children:"What\u2019s the name of your business?"}),(0,i.jsxs)("div",{className:"flex item-center gap-4",children:[(0,i.jsx)(o.Z,{className:"w-full",placeholder:"Enter your business name",value:d,onChange:function(e){return m(e)}}),(0,i.jsx)(p.Z,{className:"primary",disabled:!d,onClick:function(){return n(d)},children:"Next"})]}),(0,i.jsxs)("p",{children:["Not sure? ",(0,i.jsxs)("span",{className:"link",onClick:s,children:["See some suggestions ",(0,i.jsx)(l.Z,{icon:"LightBulbIcon",className:"inline w-5 h-5 mb-1"})]})]})]})},w=function(e){var n=e.suggestedNames,t=e.chooseName,o=e.showSuggestions,s=e.toggleSuggestions,r=(0,a.useState)(0),u=r[0],d=r[1];return(0,a.useEffect)((function(){d(0)}),[n]),(0,i.jsx)("div",{className:(0,c.AK)("absolute flex flex-col gap-6 mb-6 transition-all duration-400",o?"translate-y-0 opacity-100":"translate-y-1/2 opacity-0 pointer-events-none"),children:(null===n||void 0===n?void 0:n.length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"text-h2 font-bold",children:"What\u2019s the name of your business?"}),(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsx)("p",{children:"Here are some suggestions"}),(0,i.jsx)("div",{className:"flex gap-2 flex-wrap",children:n.slice(u,u+3).map((function(e,n){return(0,i.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:e},n)}))}),(0,i.jsxs)("div",{className:"flex gap-5 mt-2",children:[(0,i.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:s,children:[(0,i.jsx)(l.Z,{icon:"ArrowLeftIcon",className:"w-5 h-5"})," Enter my own"]}),(0,i.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:function(){return d((function(e){var t=e+3;return t>=n.length?0:t}))},children:[(0,i.jsx)(l.Z,{icon:"RefreshIcon",className:"w-5 h-5"})," See more"]})]})]})]}):(0,i.jsx)(y,{})})},j=t(47568),N=t(70655),C=t(50899),Z=t(50246),S=t(8248),F=t(68039),_=function(e){var n=e.children;return(0,i.jsx)("div",{className:"flex flex-col gap-4 max-w-lg bg-indigo-600",children:n})},R=function(e){var n=e.location,t=e.setIsOpenChangeLocation;return n?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("p",{className:"flex flex-wrap items-center gap-1 text-label text-indigo-200 font-medium",children:["It looks like you're in",(0,i.jsxs)("span",{className:"flex items-center cursor-pointer text-white whitespace-nowrap",onClick:function(){return t(!0)},children:[n.inline," ",(0,i.jsx)(l.Z,{icon:"LocationMarkerIcon",className:"inline w-4 h-4 ml-1.5"})]})]})}):(0,i.jsx)("p",{className:"text-label font-medium text-white",children:"Getting your location..."})},L=function(e){var n=e.setOpen,t=e.location,o=e.onSuccess,s=e.setAskUserLocation,r=e.isMobile,u=e.isLoadingLocation,d=(0,a.useState)(null),m=d[0],g=d[1],h=(0,a.useRef)(!0);return(0,a.useEffect)((function(){return s(!0),function(){return s(!1)}}),[]),(0,a.useEffect)((function(){t&&!h.current&&g(t.inline||"".concat(t.city).concat(t.regionCode?", "+t.regionCode:t.region?", "+t.region:"")),h.current&&(h.current=!1)}),[t]),(0,i.jsxs)(i.Fragment,{children:[u?(0,i.jsx)("p",{className:"text-label font-medium text-white",children:"Getting your location..."}):(0,i.jsx)(q,{onBack:function(){return n(!1)}}),(0,i.jsxs)("div",{className:(0,c.AK)("flex gap-3",r?"flex-col":"flex-row"),children:[F.Z&&(0,i.jsx)(F.Z,{inlineAddress:m,onChange:function(e){return g(e)},placeholder:"Enter the business location",fullWidth:!0,icon:(0,i.jsx)(l.Z,{icon:"LocationMarkerIcon",className:"inline w-4 h-4 text-gray-700 ml-2"}),disabled:u,darkBackground:!0,btnClassName:"!py-5"}),(0,i.jsxs)(p.Z,{className:"flex gap-1 secondary !bg-indigo-50 !font-medium !p-5",disabled:u||!m,onClick:function(){n(!1),o(m)},children:["Save ",(0,i.jsx)(l.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})]})},I=function(e){var n=e.chooseVertical,t=e.location,o=e.isMobile,s=(0,Z.Z)().data,r=(0,a.useState)(null),u=r[0],d=r[1];return(0,i.jsxs)("div",{className:(0,c.AK)("flex gap-3",o?"flex-col":"flex-row"),children:[(0,i.jsx)(f.Z,{values:s,autocomplete:!0,showSuggestions:!0,allowUnlistedValues:!0,value:u,fullWidth:!0,placeholder:"Enter a business",onChange:d,showNoResults:!1,showSelectorIcon:!1,darkBackground:!0,btnClassName:"!pl-6 !py-5",showTypingAsOption:!0}),u&&""!==(null===u||void 0===u?void 0:u.name)&&(0,i.jsxs)(p.Z,{className:"flex gap-1 secondary !bg-indigo-50 !font-medium !p-5",disabled:!(null===u||void 0===u?void 0:u.name)||!(null===t||void 0===t?void 0:t.inline),onClick:function(){return n(u)},children:["Next ",(0,i.jsx)(l.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})},T=function(e){var n=e.businessName,t=e.setBusinessName,r=e.chooseName,u=e.vertical,d=e.location,m=e.isGenerating,g=e.setStep,h=e.isMobile,v=(0,a.useState)({}),f=v[0],b=v[1],x=(0,a.useState)(null),y=x[0],k=x[1],w=(0,S.Z)(f),C=w.data,Z=w.isLoading;function F(){return F=(0,j.Z)((function(){var e,n,t;return(0,N.__generator)(this,(function(i){return C&&y!==C.length-1&&(null===f||void 0===f||null===(e=f.payload)||void 0===e?void 0:e.vertical)===((null===u||void 0===u?void 0:u.aiTerm)||(null===u||void 0===u?void 0:u.name))?k((function(e){return e+1})):(b({action:"business-names",payload:{location:null===d||void 0===d?void 0:d.inline,language:null!==(t=null===(n=navigator.language)||void 0===n?void 0:n.substring(0,2))&&void 0!==t?t:"en",vertical:(null===u||void 0===u?void 0:u.aiTerm)||(null===u||void 0===u?void 0:u.name),quantity:12,fromHere:1}}),k(null)),[2]}))})),F.apply(this,arguments)}return(0,a.useEffect)((function(){C&&k(0)}),[C]),(0,a.useEffect)((function(){null!==y&&t(C[y])}),[y]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q,{onBack:function(){return g((function(e){return e-1}))}}),(0,i.jsxs)("div",{className:(0,c.AK)("flex gap-3",h?"flex-col":"flex-row"),children:[(0,i.jsxs)("div",{className:"w-full relative",children:[(0,i.jsx)(o.Z,{inputClassName:"w-full !pl-6 !pr-12 !py-5",placeholder:Z?"...":"Enter a business name",value:n,disabled:Z,onChange:function(e){return t(e)}}),(0,i.jsx)("div",{className:"flex absolute right-5 top-1/2 -translate-y-1/2 text-indigo-600",children:Z?(0,i.jsx)(s.Z,{variant:"icon",className:"inline w-4 h-4"}):n?(0,i.jsx)("button",{className:"flex",onClick:function(){return t("")},children:(0,i.jsx)(l.Z,{icon:"XCircleSolidIcon",className:"inline w-5 h-5 text-gray-400"})}):(0,i.jsxs)("button",{className:"flex gap-2 items-center font-medium",onClick:function(){return F.apply(this,arguments)},children:["Suggest ",(0,i.jsx)(l.Z,{icon:"BoltIcon",className:"inline w-4 h-4"})]})})]}),!!n&&(0,i.jsxs)(p.Z,{className:"flex gap-1 secondary whitespace-nowrap !bg-indigo-50 !font-medium !p-5",disabled:!n,onClick:r,loading:m,children:["Generate ",(0,i.jsx)(l.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})]})},q=function(e){var n=e.onBack;return(0,i.jsxs)("button",{className:"inline-flex items-center gap-2 link !text-white",onClick:n,children:[(0,i.jsx)(l.Z,{icon:"ArrowLeftIcon",className:"w-4 h-4"}),(0,i.jsx)("span",{className:"text-label",children:"Back"})]})},B=t(74413),A={V1:{NameChoice:function(e){var n=e.suggestedNames,t=e.chooseName;return(null===n||void 0===n?void 0:n.length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"What do you want to name your business?"}),(0,i.jsx)(g,{suggestedNames:n,chooseName:t}),(0,i.jsx)(h,{chooseName:t})]}):(0,i.jsx)(v,{})},BusinessChoice:function(e){var n=e.location,t=e.suggestedVerticals,a=e.chooseVertical,o=e.setOpenChangeLocation;return n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"text-h5 font-bold mb-6 flex items-center flex-wrap gap-1",children:["It looks like you're in",(0,i.jsx)("u",{className:"cursor-pointer transition hover:text-indigo-600 whitespace-nowrap",onClick:function(){return o(!0)},children:n.inline}),(0,i.jsx)(l.Z,{icon:"LocationMarkerIcon",className:"inline w-5 h-5"})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Here are some great businesses to start there."}),(0,i.jsx)(u,{suggestedVerticals:(0,c.TV)((0,c.p$)(t)),chooseVertical:a,location:n})]})]}):(0,i.jsx)(m,{})}},V2:{NameChoice:function(e){var n=e.location,t=e.suggestedNames,l=e.chooseName,o=(0,a.useState)(!1),s=o[0],r=o[1],c=function(){return r(!s)};return(0,i.jsxs)("div",{className:"flex flex-col gap-6 relative",children:[(0,i.jsx)(w,{suggestedNames:t,chooseName:l,location:n,toggleSuggestions:c,showSuggestions:s}),(0,i.jsx)(k,{suggestedNames:t,chooseName:l,toggleSuggestions:c,showSuggestions:s})]})},BusinessChoice:function(e){var n=e.location,t=e.suggestedVerticals,o=e.chooseVertical,s=e.setOpenChangeLocation,r=(0,a.useState)(!1),u=r[0],d=r[1],m=function(){return d(!u)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-h5 font-bold mb-6 flex items-center flex-wrap gap-1",children:n?(0,i.jsxs)(i.Fragment,{children:["It looks like you're in",(0,i.jsx)("u",{className:"cursor-pointer transition hover:text-indigo-600 whitespace-nowrap",onClick:function(){return s(!0)},children:n.inline}),(0,i.jsx)(l.Z,{icon:"LocationMarkerIcon",className:"inline w-5 h-5"})]}):"Getting your location..."}),(0,i.jsxs)("div",{className:"flex flex-col gap-6 relative",children:[(0,i.jsx)(x,{suggestedVerticals:(0,c.TV)((0,c.p$)(t)),chooseVertical:o,location:n,toggleSuggestions:m,showSuggestions:u}),(0,i.jsx)(b,{suggestedVerticals:t,chooseVertical:o,toggleSuggestions:m,showSuggestions:u,location:n})]})]})}},V3:{Form:function(){var e=(0,a.useState)(1),n=e[0],t=e[1],l=(0,a.useState)(null),o=l[0],s=l[1],u=(0,a.useState)(""),d=u[0],m=u[1],g=(0,a.useState)(!1),h=g[0],v=g[1],f=(0,a.useState)({}),p=f[0],b=f[1],x=(0,a.useState)(!1),y=x[0],k=x[1],w=(0,a.useState)(!1),j=w[0],N=w[1],Z=(0,a.useState)(!1),S=Z[0],F=Z[1],q=(0,C.Z)({userLocationByIP:!0,askUserLocation:j}),B=q.data,A=q.set,M=q.isLoading,W=(0,r.useRouter)();return(0,a.useEffect)((function(){F(window.screen.width<992)}),[]),(0,a.useEffect)((function(){if((null===p||void 0===p?void 0:p.business)&&o&&B){var e,n,t=encodeURIComponent(JSON.stringify({website:p,vertical:{name:null===o||void 0===o?void 0:o.name,queryTerm:null===o||void 0===o?void 0:o.queryTerm},location:B})),i="durable.co"===window.location.host?"https://app.durable.co/website-builder/builder?building=".concat(t):"".concat(window.location.protocol,"//").concat(window.location.host,"/website-builder/builder?building=").concat(t);(null===W||void 0===W||null===(e=W.query)||void 0===e?void 0:e.ph_id)&&(i+="&ph_id=".concat(null===W||void 0===W||null===(n=W.query)||void 0===n?void 0:n.ph_id)),window.top.location=i}}),[p,o,B]),(0,i.jsxs)(_,{children:[y&&(0,i.jsx)(L,{setOpen:k,location:B,onSuccess:function(e){return A({inline:e})},setAskUserLocation:N,isLoadingLocation:M,isMobile:S}),(0,i.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-4 relative",1!==n||y?"hidden":"block"),children:[(0,i.jsx)(R,{location:B,setIsOpenChangeLocation:k}),(0,i.jsx)(I,{vertical:o,location:B,chooseVertical:function(e){s({name:e.name,aiTerm:e.aiTerm||e.name,queryTerm:e.queryTerm||e.name}),t(2)},isMobile:S})]}),(0,i.jsx)("div",{className:(0,c.AK)("flex flex-col gap-4",2===n?"block":"hidden"),children:(0,i.jsx)(T,{businessName:d,setBusinessName:m,chooseName:function(){var e,n;v(!0),b({business:{name:d,location:null===B||void 0===B?void 0:B.inline,vertical:(null===o||void 0===o?void 0:o.aiTerm)||(null===o||void 0===o?void 0:o.name),language:null!==(n=null===(e=navigator.language)||void 0===e?void 0:e.substring(0,2))&&void 0!==n?n:"en"}})},vertical:o,location:B,isGenerating:h,setStep:t,isMobile:S})})]})},Builder:function(e){var n=e.website,t=e.setWebsite,a=e.pictures,l=e.location;return(0,i.jsx)("div",{className:"fixed top-0 left-0 w-full h-full",children:(0,i.jsx)(B.I,{website:n,setWebsite:t,pictures:a,location:l,backLink:"https://durable.co"})})}}}},8248:function(e,n,t){"use strict";var i=t(47568),a=t(70655),l=t(16682),o=t(67294);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:void 0,payload:void 0},n=e.action,t=e.payload,s=(0,o.useState)(!1),r=s[0],c=s[1],u=(0,o.useState)(null),d=u[0],m=u[1],g=(0,o.useState)(null),h=g[0],v=g[1],f=(0,l.Z)().post;(0,o.useEffect)((function(){n&&t?p(n,t):(m(null),c(!1))}),[n,t]);var p=function(){var e=(0,i.Z)((function(e,n){var t;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return c(!0),[4,f("/openai/ask-to-bot",{action:e,data:n}).catch(console.log)];case 1:return(t=i.sent())&&!0===t.status&&t.content?(c(!1),m(t.content),v(t.logging||null),[2,{content:t.content,logging:t.logging}]):(c(!1),m(null),v(null),[2,null])}}))}));return function(n,t){return e.apply(this,arguments)}}();return{isLoading:r,data:d,logId:h,getDataViaOpenAI:p,set:m}}},73292:function(e,n,t){"use strict";var i=t(41799),a=t(33303);n.Z=function(){return{sendUserEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((null===window||void 0===window?void 0:window.dataLayer)||[]).push((0,i.Z)({event:e},n))},getAffiliateInfos:function(){var e=(0,a.ej)("rewardful.referral"),n=null;if(e)try{var t,i=null!==(t=JSON.parse(e))&&void 0!==t?t:{},l=i.id,o=i.affiliate,s=i.campaign,r=null!==o&&void 0!==o?o:{},c=r.id,u=r.token,d=null!==s&&void 0!==s?s:{};n={id:l,affiliateId:c,affiliateToken:u,campaignId:d.id,campaignName:d.name}}catch(m){}return n}}}},39828:function(){}}]);